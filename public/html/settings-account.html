<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">    
    <title>Fresher</title>
    <link rel="icon" type="image/x-icon" href="public/icons/other/fresherfavicon.ico">

    <!-- MARK: Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap" rel="stylesheet">
    
    <!--MARK: CSS -->
    <!-- layout -->
    <link rel="stylesheet" href="public/css/layout/main-body.css">
    <link rel="stylesheet" href="public/css/layout/true-body.css">
    <link rel="stylesheet" href="public/css/layout/settings-main.css">
    <link rel="stylesheet" href="public/css/test.css">

    <!-- components -->
    <link rel="stylesheet" href="public/css/components/comp-navbar.css">
    <link rel="stylesheet" href="public/css/components/comp-header.css">
    <link rel="stylesheet" href="public/css/components/comp-buttons.css">
    <link rel="stylesheet" href="public/css/components/comp-titlebar.css">
    <link rel="stylesheet" href="public/css/components/comp-cards.css">
    <link rel="stylesheet" href="public/css/components/comp-batteredheader.css">
    <link rel="stylesheet" href="public/css/components/comp-controls.css">

    <script src="https://cdn.jsdelivr.net/npm/appwrite@14.0.1"></script>
    <script  src="public/scripts/loginCheck.js" type="module" defer></script>
    
    <script src="public/scripts/account-settings.js"></script>
    <script>fetchAccountSettings()</script>
    
</head>
<body class="main-body">
    <!-- Navbar -->
    <nav class="comp-navbar"> 
        <!-- Home -->
        <a class="comp-navbar-icon-default" href="public/html/feed.html">
            <img src="public/icons/navbar/home.svg" class="comp-navbar-svg" alt="Home icon">
        </a>
        <!-- RSS -->
        <a class="comp-navbar-icon-default" href="public/html/settings-rss.html">
            <img src="public/icons/navbar/rss.svg" class="comp-navbar-svg" alt="RSS settings icon">
        </a>
        <!-- Settings -->
        <a class="comp-navbar-icon-default" href="public/html/settings-home.html">
            <img src="public/icons/navbar/settings.svg" class="comp-navbar-svg" alt="General settings icon">
        </a>
        <!-- Account -->
        <a class="comp-navbar-icon-default" href="public/html/settings-account.html">
            <img src="public/images/placeholder.png" class="comp-navbar-svg" alt="Account profile picture">
        </a>
    </nav>

    <div class="true-body">
        <!-- Titlebar with "Fresher" -->
        <header class="titlebar-container">
            <img src="public/icons/other/logo.svg" alt="Fresher Logo">
        </header>

        <!-- Container that holds the settings, also acts as a form -->
        <form action="/api/editAccountSettings" method="POST" class="settings-container">

            <!-- Header section -->
            <div class="header-with-breadcrumb">
                <div class="breadcrumb-container">
                    <a href="public/html/settings-home.html" class="breadcrumb-container-text">Settings</a>
                </div>
                <div class="header-container">
                    <img src="public/icons/batteredheader/address.svg" alt="A non-functional arrow pointing towards the page heading.">
                    <p class="header-container-text">Account</p>
                </div>
            </div>

            <!-- Upload account image -->
            <div class="basic-control-wrapper">
                <label class="control-label" for="acc-image" >Account picture</label>
                <label for="image" class="image_upload" style="margin-top: 10px;">
                    <input type="file" accept="image/*" name="account_image" id="acc-image" style="display: none;">
                    <img class="image_upload-image" src="public/images/placeholder.png" alt="Your profile picture">
                    <img src="public/icons/settings/Edit.svg" alt="Edit profile picture"> 
                    <!-- Kociaj, P (2016) How can I upload a new file on click of image button, Accessed 1 Jan 2025-->
                </label>
            </div>
            
            <!-- Change account name -->
            <div class="basic-control-wrapper">
                <label class="control-label" for="acc-name">Account name</label>
                <input class="textbox" type="tel" id="acc-name" name="account_name" value="Loading...">
            </div>

            <!-- Reset account button (doesn't submit data) -->
            <div class="basic-control-wrapper" style="display:flex; flex-direction: column; gap:10px">
                <label class="control-label">More options</label>
                <a class="button-caution" href="https://google.com">
                    <img src="public/icons/buttons/bin.svg" class="button-icon">
                    <p class="button-caution-text">Reset account</p>
                </a>
            </div>

            <!-- Submit and cancel buttons -->
            <div class="horizontal-button-container">
                <!-- Submit -->
                <input class="submit-button" type="submit" value="Save">

                <!-- Cancel button -->
                <a class="button-tonal" href="javascript:window.history.back();"> <!-- Cantarella, A (2019) Pure HTML Back Button, Accessed Jan 2 2025 https://stackoverflow.com/questions/57361403/pure-html-back-button -->
                    <img src="public/icons/buttons/cancel.svg" class="button-icon">
                    <p class="button-tonal-text">Cancel</p>
                </a>
            </div>
            
        </form>
    </div>
</body>
</html>